<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.0.1">
    <title>l7mp.io</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/carousel/">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    
        <!-- Bootstrap core CSS -->
        <link href="../../assets/dist/css/bootstrap.css" rel="stylesheet">
        <link href="../../assets/main.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="../../assets/page.css" rel="stylesheet">
        
        <!-- FAVICO -->
        <link rel="icon" href="../../assets/brand/logo.svg">
    
    
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
</head>

<body>
    <div id="container">
        <header><nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"></span><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   sodipodi:docname="logo.svg"
   inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"
   id="svg8"
   version="1.1"
   viewBox="0 0 69.859449 39.077042"
   height="39.077042px"
   width="69.859451px"
   inkscape:export-filename="/home/richard/Desktop/logo.png"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96">
  <defs
     id="defs2">
    <rect
       id="rect118"
       height="66.02002"
       width="62.544495"
       y="207.00511"
       x="94.25029" />
    <rect
       id="rect108"
       height="36.839436"
       width="71.237389"
       y="160.67441"
       x="106.99679" />
    <rect
       id="rect44"
       height="68.213699"
       width="177.64281"
       y="93.610863"
       x="12.609511" />
  </defs>
  <sodipodi:namedview
     fit-margin-bottom="0"
     fit-margin-right="0"
     fit-margin-left="0"
     fit-margin-top="0"
     inkscape:window-maximized="1"
     inkscape:window-y="1080"
     inkscape:window-x="278"
     inkscape:window-height="731"
     inkscape:window-width="1366"
     showgrid="false"
     inkscape:document-rotation="0"
     inkscape:current-layer="layer1"
     inkscape:document-units="mm"
     inkscape:cy="13.61354"
     inkscape:cx="37.648299"
     inkscape:zoom="8.0000004"
     inkscape:pageshadow="2"
     inkscape:pageopacity="0.0"
     borderopacity="1.0"
     bordercolor="#666666"
     pagecolor="#ffffff"
     id="base" />
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     transform="translate(-11.637504,-110.9267)"
     style="display:inline"
     id="layer1"
     inkscape:groupmode="layer"
     inkscape:label="Layer 1">
    <text
       style="font-style:normal;font-weight:normal;font-size:10.58329964px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(#rect44);fill:#000000;fill-opacity:1;stroke:none"
       id="text42"
       xml:space="preserve" />
    <text
       style="font-style:normal;font-weight:normal;font-size:10.58329964px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(#rect108);fill:#000000;fill-opacity:1;stroke:none"
       id="text106"
       xml:space="preserve" />
    <text
       style="font-style:normal;font-weight:normal;font-size:10.58329964px;line-height:1.25;font-family:sans-serif;white-space:pre;shape-inside:url(#rect118);fill:#000000;fill-opacity:1;stroke:none"
       id="text116"
       xml:space="preserve" />
    <text
       id="text33"
       y="40.511105"
       x="54.470467"
       style="font-style:normal;font-weight:normal;font-size:10.58329964px;line-height:1.25;font-family:sans-serif;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.26458299"
       xml:space="preserve"><tspan
         style="font-size:35.27780151px;stroke-width:0.26458299"
         y="49.874844"
         x="54.470467"
         id="tspan31"
         sodipodi:role="line" /></text>
    <path
       inkscape:connector-curvature="0"
       id="path956-3"
       style="display:inline;fill:#1e90ff;fill-opacity:1;stroke:none;stroke-width:0.0408072;stroke-opacity:1"
       d="m 40.702489,110.9267 -8.998108,0.003 -8.997538,0.001 -1.897875,2.39141 c -1.043647,1.31479 -3.236111,4.07257 -4.872196,6.12851 -4.372088,5.4941 -4.320204,5.42754 -4.294979,5.55132 0.02824,0.13856 2.465551,10.79939 3.272039,14.31147 0.34843,1.51733 0.650329,2.78962 0.670575,2.82746 0.07337,0.13704 2.654511,1.42861 8.346318,4.17543 6.561176,3.16634 7.725956,3.71427 7.836844,3.68646 0.213219,-0.0536 15.578395,-7.4507 15.858685,-7.63476 0.117525,-0.0773 0.163037,-0.14476 0.212327,-0.31423 0.206979,-0.71199 1.953742,-8.31372 3.10639,-13.51908 0.74085,-3.34566 0.772124,-3.4982 0.742298,-3.617 -0.05532,-0.22043 -1.63454,-2.23901 -8.638908,-11.04286 z" />
    <path
       sodipodi:nodetypes="ccccscccsccccsccccccsccc"
       inkscape:connector-curvature="0"
       id="path829-6"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:26.43350029px;line-height:1.25;font-family:HamburgerHeaven;-inkscape-font-specification:'HamburgerHeaven, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;display:inline;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.91209394;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 66.016442,125.37447 -3.417453,15.28467 c -0.08453,0.45625 -0.182917,1.16916 0.525003,1.1906 l -0.475513,2.15597 h -1.474982 c -1.051159,0 -1.88779,-0.2789 -2.509907,-0.83665 -0.622112,-0.55775 -0.640371,-1.25316 -0.386435,-2.50992 l 3.459583,-15.54209 c 0.444992,-1.72559 -0.396865,-2.5099 -1.641087,-2.5099 h -1.866339 l -4.751629,21.39856 H 49.16579 l 4.114206,-18.88866 c 0.369872,-1.64557 -0.0062,-2.5099 -1.293268,-2.5099 H 50.12039 l -4.719455,21.39856 h -4.311883 l 4.751628,-21.55945 h -1.530669 l 0.46879,-2.15595 h 15.509915 c 1.694726,0 3.078392,0.41832 4.150998,1.25495 1.17987,0.92244 1.705447,2.19884 1.576735,3.82921 z" />
    <path
       sodipodi:nodetypes="cccsccccccsccccsccccc"
       inkscape:connector-curvature="0"
       id="path831-7"
       style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:26.43350029px;line-height:1.25;font-family:HamburgerHeaven;-inkscape-font-specification:'HamburgerHeaven, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;display:inline;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.91213602;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.02402,124.90133 -0.85977,3.86139 c -0.376253,1.56124 -0.515623,2.20583 -1.231817,3.50743 -0.87631,1.16709 -2.263208,1.82462 -3.636139,1.82462 h -4.375519 l -2.154706,9.91093 h -4.311887 l 4.696057,-21.55947 H 67.65319 l 0.435167,-2.15593 h 8.398532 c 1.372936,0 2.499174,0.11682 3.378716,1.10362 0.879538,0.96531 1.265679,2.13447 1.158415,3.50741 z m -4.21535,-0.23479 c 0.06435,-0.60069 -0.107261,-1.11553 -0.514853,-1.54457 -0.386141,-0.45048 -0.890265,-0.67574 -1.512378,-0.67574 h -1.351487 l -1.993317,9.52476 h 2.50817 c 1.494745,-0.0105 1.351746,-0.77957 1.754333,-2.301 z" />
    <g
       transform="matrix(-1.2173289,0,0,-1.3621348,64.605728,299.63255)"
       id="g24-5"
       style="font-style:normal;font-weight:normal;font-size:7.92999983px;line-height:0;font-family:sans-serif;display:inline;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.70831352;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       aria-label="7 ">
      <path
         sodipodi:nodetypes="ccccccc"
         inkscape:connector-curvature="0"
         id="path22-3"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:26.4333992px;line-height:0.94999999;font-family:HamburgerHeaven;-inkscape-font-specification:'HamburgerHeaven, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.70831352;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         d="m 36.043232,114.2715 -4.027742,18.08045 h -3.568509 l 3.393341,-15.30705 h -6.030795 l 0.374047,-2.7734 z" />
    </g>
    <g
       aria-label="7 "
       style="font-style:normal;font-weight:normal;font-size:7.92999983px;line-height:0;font-family:sans-serif;display:inline;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.70831352;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       id="g834"
       transform="matrix(1.2173289,0,0,1.3621348,-0.56896995,-40.45509)">
      <path
         d="m 36.043232,114.2715 -4.027742,18.08045 h -3.568509 l 3.393341,-15.30705 h -6.030795 l 0.374047,-2.7734 z"
         style="font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;font-size:26.4333992px;line-height:0.94999999;font-family:HamburgerHeaven;-inkscape-font-specification:'HamburgerHeaven, Normal';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;fill:#ffffff;fill-opacity:1;stroke:#1e90ff;stroke-width:0.70831352;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         id="path832"
         inkscape:connector-curvature="0"
         sodipodi:nodetypes="ccccccc" />
    </g>
    <rect
       style="display:inline;fill:#ffffff;fill-rule:evenodd;stroke-width:1.01229036"
       id="rect873"
       width="0.15417291"
       height="0.21754521"
       x="-36.763924"
       y="116.96698"
       transform="matrix(0.78276816,-0.62231343,0.6196037,0.78491481,0,0)" />
  </g>
</svg>

    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
            
            <li class="nav-item active">
                
                    <a class="nav-link" href="/about"><span>About</span></a>
                
            </li>
            
            <li class="nav-item active">
                
                    <a class="nav-link" href="/docs"><span>Documentation</span></a>
                
            </li>
            
            <li class="nav-item active">
                
                    <a class="nav-link" href="/news"><span>News</span></a>
                
            </li>
            
            <li class="nav-item active">
                
                    <a class="nav-link" href="/faq"><span>FAQ</span></a>
                
            </li>
            
            <li class="nav-item active">
                
                    <a class="nav-link" href="/openapi" target="_blank"><span>OpenAPI</span></a>
                
            </li>
            
        </ul>
        <ul class="navbar-nav ml-auto">
            <!-- <form class="form-inline mt-2 mt-md-0">
                <input class="form-control mr-sm-2 bg-transparent text-white" type="text" placeholder="Search" aria-label="Search">
                <button class="btn btn-primary my-2 my-sm-0" type="submit">Search</button> 
            </form> -->
            <form action="/search/" method="get" class="form-inline mt-2 mt-md-0">
                <input class="form-control mr-sm-2 bg-transparent text-white" type="text" id="search-box-head" name="query" placeholder="Search" aria-label="Search">
            </form>
            <li class="nav-item">
                <a class="nav-link" href="https://github.com/l7mp/l7mp">
                    <div style="display: inline-block;">
                        <i class="fab fa fa-github-alt fa-2x"></i>
                    </div>
                    <div style="display: inline-block;">
                        <small style="display: block;">l7mp/l7mp</small>
                        <small style="display: block;" id="git_details"></small>
                    </div>
                </a> 
            </li>
        </ul>
    </div>
</nav></header>
        <div id="body">
            <div class="container-fluid d-flex justify-content-center">
                <main role="main" class="col-md-6 col-lg-8 px-md-4">
                    <div>
                        <article style="padding-bottom:6rem;">
                            
                                <form action="/search/" method="get" class="d-block">
	<input class="form-control mr-sm-2 bg-transparent" type="text" id="search-box" name="query" placeholder="Search" aria-label="Search">
</form>

<br>

<ul id="search-results"></ul>

<script>
	window.store = {
		
				
					
					
					"docs-l7mp-getting-started": {
						"id": "docs-l7mp-getting-started",
						"title": "Getting started",
						"categories": "",
						"url": " /docs/l7mp_getting_started",
						"content": "Using the l7mp proxy in standalone mode\n\nStandalone installation\n\nUse the below to install the l7mp proxy from the official l7mp distribution at npm.js.\n\nnpm install l7mp --save\nnpm test\n\n\nAt least Node.js v14 is required.\n\nDocker installation\n\nPull the official image by docker pull l7mp/l7mp:latest or use the enclosed Dockerfile to deploy the l7mp proxy.\n\nDeploy into Kubernetes\n\nUse the below configuration to deploy l7mp as an ingress gateway in your Kubernetes cluster.\n\napiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: l7mp-ingress-gw\n  labels:\n    app: l7mp-ingress-gw\nspec:\n  selector:\n    matchLabels:\n      app: l7mp-ingress-gw\n  template:\n    metadata:\n      labels:\n        app: l7mp-ingress-gw\n    spec:\n      volumes:\n        - name: l7mp-ingress-gw-config\n          configMap:\n            name: l7mp-ingress-gw\n      containers:\n      - name: l7mp\n        image: l7mp/l7mp:latest\n        imagePullPolicy: IfNotPresent\n        command: [ \"node\" ]\n        args: [ \"l7mp-proxy.js\", \"-c\", \"config/l7mp-ingress-gw.yaml\", \"-s\", \"-l\", \"info\" ]\n        ports:\n        - containerPort: 1234\n        volumeMounts:\n          - name: l7mp-ingress-gw-config\n            mountPath: /app/config\n      hostNetwork: true\n      dnsPolicy: ClusterFirstWithHostNet\n\n---\n\n# Controller listening on 1234\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: l7mp-ingress-gw\ndata:\n  l7mp-ingress-gw.yaml: |\n    admin:\n      log_level: info\n      log_file: stdout\n      access_log_path: /tmp/admin_access.log\n    listeners:\n      - name: controller-listener\n        spec: { protocol: HTTP, port: 1234 }\n        rules:\n          - action:\n              route:\n                cluster:\n                  spec: { protocol: L7mpController }\n\n\nRun\n\nThe below usage examples assume that the l7mp proxy is deployed in standalone mode and it is available on the localhost.\n\nRun l7mp locally with a sample static configuration.\n\nnode l7mp-proxy.js -c config/l7mp-minimal.yaml -l warn -s\n\n\nConfiguration is accepted either in YAML format (if the extension is .yaml) or JSON (otherwise). Command line arguments override static configuration parameters.\n\nQuery configuration\n\nThe sample configuration will fire up a HTTP listener on port 1234 and route it to the l7mp controller that serves the l7mp REST API. This API can be used to query or configure the proxy on the fly; e.g., the below will dump the full configuration in JSON format:\n\ncurl http://localhost:1234/api/v1/config\n\n\nFor a list of all REST API endpoints, see the l7mp OpenAPI specs.\n\nManage sessions\n\nOn top of the static configuration, the response contains a list of sessions, enumerating the set of active (connected) streams inside l7mp. You can list the live sessions explicitly as follows:\n\ncurl http://localhost:1234/api/v1/sessions\n\n\nYou should see only a single HTTP session: this session was created by the l7mp proxy to route the REST API query from the HTTP listener to the controller endpoint and this session happens to be active when the session list request is issued.\n\nYou can also delete any session (suppose its name is session-name) via the below REST API call.\n\ncurl -iX DELETE http://localhost:1234/api/v1/sessions/&lt;session-name&gt;\n\n\nAdd a new cluster\n\nAdd a new WebSocket cluster named ws-cluster that will connect to an upstream WebSocket service with a single endpoint at localhost:16000.\n\ncurl -iX POST --header 'Content-Type:text/x-yaml' --data-binary @- &lt;&lt;EOF  http://localhost:1234/api/v1/clusters\ncluster:\n  name: ws-cluster\n  spec: { protocol: \"WebSocket\", port: 16000 }\n  endpoints:\n    - spec: { address:  \"127.0.0.1\" }\nEOF\n\n\nNote that the REST API accepts both JSON and YAML configs (YAML will be converted to JSON internally). If multiple endpoints are added, l7mp will load-balance among these; e.g., the below will distribute connections across 3 upstream endpoints in proportion 3:1:1 and also implement sticky sessions, by applying consistent hashing on the source IP address of each connection.\n\ncurl -iX POST --header 'Content-Type:text/x-yaml' --data-binary @- &lt;&lt;EOF  http://localhost:1234/api/v1/clusters\ncluster:\n  name: ws-cluster-with-sticky-sessions\n  spec: { protocol: \"WebSocket\", port: 16000 }\n  endpoints:\n    - spec: { address:  \"127.0.0.1\" }\n      weight: 3\n    - spec: { address:  \"127.0.0.2\" }\n    - spec: { address:  \"127.0.0.3\" }\n  loadbalancer:\n    policy: \"ConsistentHash\"\n    key: \"IP/src_addr\"\nEOF\n\n\nAdd a new listener and a route\n\nNow add a new UDP listener called udp-listener at port 15000 that will accept connections from an IP address but only with source port 15001, and route the received connections to the above cluster (which, recall, we named as ws-cluster).\n\ncurl -iX POST --header 'Content-Type:text/x-yaml' --data-binary @- &lt;&lt;EOF  http://localhost:1234/api/v1/listeners\nlistener:\n  name: udp-listener\n  spec: { protocol: UDP, port: 15000, connect: {port: 15001} }\n  rules:\n    - action:\n        route:\n          destination: ws-cluster\n          ingress:\n            - spec: { protocol: Logger }\n          retry: {retry_on: always, num_retries: 3, timeout: 2000}\nEOF\n\n\nThere is an important quirk here. The route spec in the above REST API call specifies a new cluster (the one with the protocol Logger), but this specification is embedded into the route definition. Here, Logger is a special transform cluster that will instruct l7mp to log all traffic arriving from the stream’s source (the UDP listener) to the destination (the WebSocket cluster) to the standard output. Of course, we could have added this cluster in a separate REST API call as well:\n\ncurl -iX POST --header 'Content-Type:text/x-yaml' --data-binary @- &lt;&lt;EOF  http://localhost:1234/api/v1/clusters\ncluster:\n  name: logger-cluster\n  spec: { protocol: \"Logger\" }\nEOF\n\n\nAnd then we could let the route to simply refer to this cluster by name:\n\ncurl -iX POST --header 'Content-Type:text/x-yaml' --data-binary @- &lt;&lt;EOF  http://localhost:1234/api/v1/listeners\nlistener:\n  name: udp-listener-with-no-embedded-cluster-def\n  spec: { protocol: UDP, port: 15000, connect: {port: 15001} }\n  rules:\n    - action:\n        route:\n          destination: ws-cluster\n          ingress:\n            - logger-cluster\n          retry: {retry_on: always, num_retries: 3, timeout: 2000}\nEOF\n\n\nThis flexibility of l7mp to accept explicit and implicit (embedded) configurations is available in essentially all REST API calls, and it greatly simplifies the use of the API.\n\nRouting\n\nOn session creation, l7mp will demultiplex the bidirectional stream received at the listener into two uni-directional streams: the ingress stream (in the direction from the source/listener to the destination/cluster) will be routed through the Logger transform cluster. Theoretically, a transform cluster is free to apply any modification it wants to the traffic passing through it, it can be local (built into the l7mp datapath, like Logger) or remote (e.g., another WebSocket cluster), the only requirement is that the cluster endpoint listen at the specified address on the specified port and send the modified traffic back to l7mp. For now, the Logger cluster just dumps the content of the stream without transforming it in any ways, but you get the point. The returned stream is then piped to the cluster ws-cluster. In the egress direction (from the destination/cluster back to the source/listener), no transformation occurs as the egress chain spec is missing.\n\nThe ingress and the egress routes are specified and handled separately. Both routes can contain a list of any number of transform clusters that will be chained sequentially, automatically performing transparent protocol and payload conversion along the way. Note that datagram boundaries are preserved during transformation whenever possible, and when not (i.e., piping a UDP stream to a TCP cluster will lose segmentation), l7mp issues a warning.\n\nThe above should yield the routes:\n\ningress: udp-listener -&gt; logger-cluster -&gt; ws-cluster\negress:  ws-cluster -&gt; udp-listener\n\n\nRetries and timeouts\n\nRoute specifications may contain a retry spec, in order to describe what to do when one of the connected endpoints fail. By the above spec, l7mp will automatically retry the connection at most 3 times both on connection setup errors and disconnect events on already established connections, waiting each time 2000 ms for the stream to be successfully re-established.\n\nTest the connection\n\nTo complete the connection, fire up a socat(1) sender (don’t forget to bind the sender to 15001, otherwise l7mp, which connects back to this port, will not accept the connection):\n\nsocat - udp:localhost:15000,sourceport=15001\n\n\nThen start a websocat receiver:\n\nwebsocat -Eb ws-l:127.0.0.1:16000 -\n\n\nWhat you type in the sender should now appear at the receiver verbatim, and the l7mp proxy should report everything that passes from the sender to the receiver on the standard output. Note that in the reverse direction, i.e., from the receiver to the sender, nothing will be logged, since the Logger was added to the ingress route only but not to the egress route.\n\nClean up\n\nProvided that the new session is named session-name (l7mp automatically assigns a unique name to each session, you can check this by issuing a GET request to the API endpoint /api/v1/sessions), you can delete this session as follows:\n\ncurl -iX DELETE http://localhost:1234/api/v1/sessions/&lt;session-name&gt;\n\n\nIn addition, use the below to remove the udp-listener and ws-cluster:\n\ncurl -iX DELETE http://localhost:1234/api/v1/listeners/udp-listener\ncurl -iX DELETE http://localhost:1234/api/v1/clusters/ws-cluster\n\n\nNote however that this will delete only the named listener and the cluster even though, as mentioned above, these objects may contain several embedded objects; e.g., udp-listener contains and implicit rulelist (a match-action table) with a single match-all rule, plus a route and an embedded cluster spec (“Logger”), and these will not be removed by the above call.\n\nYou can use the below recursive version of the delete operations to delete all the embedded sub-objects of an object, but bear in mind that this will remove everything that was implciitly defined by udp-listener and ws-cluster and this includes all the sessions emitted by the listener and all the sessions routed via the cluster.\n\ncurl -iX DELETE http://localhost:1234/api/v1/listeners/udp-listener?recursive=true\ncurl -iX DELETE http://localhost:1234/api/v1/clusters/ws-cluster?recursive=true\n\n\nYou can avoid this by not using embedded defs or, if this is too inconvenient, explicitly naming all embedded objects and then using the specific APIs (the RuleList API, Rule API, etc.) to clean up each object selectively.\n\nStatus\n\nBelow is a summary of the protocols supported by l7mp and the current status of the implementations.\n\n\n  \n    \n      Type\n      Protocol\n      Session ID\n      Type\n      Role\n      Mode\n      Re/Lb\n      Status\n    \n  \n  \n    \n      Remote\n      UDP\n      IP 5-tuple\n      datagram-stream\n      l/c\n      singleton/server\n      yes/yes\n      Full\n    \n    \n       \n      TCP\n      IP 5-tuple\n      byte-stream\n      l/c\n      server\n      yes/yes\n      Full\n    \n    \n       \n      HTTP\n      IP 5-tuple\n      byte-stream\n      l\n      server\n      yes/yes\n      Partial\n    \n    \n       \n      WebSocket\n      IP 5-tuple + HTTP\n      datagram-stream\n      l/c\n      server\n      yes/yes\n      Full\n    \n    \n       \n      JSONSocket\n      IP 5-tuple + JSON header\n      datagram-stream\n      l/c\n      server\n      yes/yes\n      Full\n    \n    \n       \n      SCTP\n      IP 5-tuple\n      datagram-stream\n      l/c\n      server\n      yes/yes\n      TODO\n    \n    \n       \n      AF_PACKET\n      file desc\n      datagram-stream\n      l/c\n      singleton\n      no/no\n      TODO\n    \n    \n      Local\n      STDIO-fork\n      N/A\n      byte-stream\n      c\n      singleton\n      no/no\n      Full\n    \n    \n       \n      UNIX/stream\n      file desc/path\n      byte-stream\n      l/c\n      server\n      yes/yes\n      Full\n    \n    \n       \n      UNIX/dgram\n      file desc/path\n      datagram-stream\n      l/c\n      singleton\n      no/no\n      TODO\n    \n    \n       \n      PIPE\n      file desc/path\n      byte-stream\n      l/c\n      singleton\n      no/no\n      TODO\n    \n    \n      Transform\n      Stdio\n      N/A\n      byte-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n    \n       \n      Echo\n      N/A\n      datagram-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n    \n       \n      Discard\n      N/A\n      datagram-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n    \n       \n      Logger\n      N/A\n      datagram-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n    \n       \n      JSONENcap\n      N/A\n      datagram-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n    \n       \n      JSONDecap\n      N/A\n      datagram-stream\n      c\n      singleton\n      yes/no\n      Full\n    \n  \n\n\nThe standard protocols, like TCP, HTTP/1.1 and HTTP/2 (although only listener/server side at the moment), WebSocket, and Unix Domain Socket (of the byte-stream type, see below) are fully supported, and for plain UDP there are two modes available: in the “UDP singleton mode” l7mp acts as a “connected” UDP server that is statically tied/connected to a downstream remote IP/port pair, while in “UDP server mode” l7mp emits a new “connected” UDP session for each packet received with a new IP 5-tuple. In addition, JSONSocket is a very simple “UDP equivalent of WebSocket” that allows to enrich a plain UDP stream with arbitrary JSON encoded metadata; see the spec here. Finally, SCTP is a reliable message transport protocol widely used in telco applications and AF_PACKET would allow to send and receive raw L2/Ethernet or L3/IP packets on a stream; currently adding proper support for these protocols is a TODO.\n\nFurthermore, there is a set of custom pseudo-protocols included in the l7mp proxy to simplify debugging and troubleshooting: the “Stdio” protocol makes it possible to pipe a stream to the l7mp proxy’s stdin/stdout, the “Echo” protocol implements a simple Echo server behavior which writes back everything it reads to the input stream, “Discard” simply blackholes everyting it receives, and finally “Logger” is like the Echo protocol but it also writes everything that goes through it to a file or to the standard output.  Finally, there are a couple of additional protocols (currently unimplemented) to further improve the usability of l7mp (see the equivalents in socat(1)): “STDIO-fork” is a protocol for communicating with a forked process through STDIO/STDOUT and PIPE uses standard UNIX pipes to do the same.\n\nThere are two types of streams supported by L7mp: a “byte-stream” (like TCP or Unix Domain Sockets in SOCK_STREAM mode) is a bidirectional stream that ignores segmentation/message boundaries, while “datagram-stream” is the same but it prefers segmentation/message boundaries whenever possible (e.g., UDP or WebSocket). The l7mp proxy warns if a datagram-stream type stream is routed to a byte-stream protocol, because this would lead to a loss of message segmentation. In addition, protocols may support any or both of the following two modes: a “singleton” mode protocol accepts only a single connection (e.g., a fully connected UDP listener will emit only a single session) while a “server” mode listener may accept multiple client connections, emitting a separate session for each connection received  (e.g., a TCP or a HTTP listener).\n\nA protocol is marked with a flag l if it has a listener implementation in l7mp, acting as a server-side protocol “plug” that listens to incoming connections and emits new sessions, and with flag c if it implements the cluster side, i.e., the client-side of the protocol that can route a connection to an upstream service and load-balance across a set of remote endpoints, Re means that the protocol supports retries and Lb indicates that load-balancing support is also available for the protocol.\n\nUsing the l7mp service mesh"
					}
					
				
		
				
					,
					
					"docs-l7mp-overview": {
						"id": "docs-l7mp-overview",
						"title": "Overview",
						"categories": "",
						"url": " /docs/l7mp_overview",
						"content": "What is l7mp?\n\n[L7mp is currently under construction, with many advertised features untested, not working as promised, or completely missing.]\n\nL7mp is a Layer-7, multiprotocol service proxy and a service mesh framework. The emphasis is on multiprotocol support, which lets l7mp to handle lots of transport- and application-layer network protocols natively not just the usual TCP/HTTP, and transparently convert between different protocol encapsulations. The intention is for l7mp to serve as an incubator project to prototype the main service mesh features that are indispensable to support network-intensive legacy/non-HTTP applications seamlessly in Kubernetes.\n\nThe distribution contains an l7mp proxy component, a programmable proxy that can stitch an arbitrary number of application-level traffic streams together into an end-to-end stream in a protocol-agnostic manner (e.g., you can pipe a UNIX domain socket to a WebSocket stream and vice versa), and a service mesh component, in the form of a Kubernetes operator, which can manage a legion of l7mp gateway and sidecar proxy instances seamlessly to enforce a rich set of high-level traffic management and observability policies throughout an entire cluster.\n\nThe l7mp data plane\n\nThe data plane of the l7mp framework is comprised by a set of l7mp proxy instances. The l7mp proxy supports multiple deployment models; e.g., it can be deployed as an ingress gateway to feed traffic with exotic protocol encapsulations into a Kuberntes cluster, or as a sidecar proxy to expose a legacy UDP/SCTP application to a Kuberntes cluster using a cloud-native protocol.\n\nThe l7mp proxy is modeled after Envoy, in that it uses similar abstractions (Listeners, Clusters, etc.), but in contrast to Envoy that is mostly HTTP/TCP-centric, l7mp is optimized for persistent, long-lived UDP-based media and tunneling protocol streams. The l7mp proxy features an extended routing API, which allows to transparently pipe application streams across diverse protocol encapsulations, with automatic and transparent protocol transformation, native support for datagram- and byte-streams, stream multiplexing and demultiplexing, encapsulation/decapsulation, etc.\n\nConsidering the strong emphasis on multiprotocol support, the l7mp proxy may actually be closer in nature to socat(1) than to Envoy, but it is dynamically configurable via a REST API in contrast to socat(1) which is a static CLI tool (in turn socat it is much more feature-complete).\n\nThe l7mp proxy is written in Javascript/Node.js. This way, it is much simpler and easier to extend than Envoy or socat, but at the same time it is also much slower. It does not have to be that way though; an XDP/ebpf-based proxy-acceleration framework is under construction that would enable l7mp to run at hundreds of thousands of packets per second speed.\n\nThe l7mp control plane\n\nThe l7mp distribution contains a Kubernetes operator that makes it possible to deploy and configure multiple instances of l7mp as sidecar proxies and service/API gateways, in a framework that can be best described as a multiprotocol service mesh. The operator is currently under construction, more details to follow soon.\n\nDeployment models\n\nCurrently there are two ways to deploy l7mp: either the l7mp proxy is deployed in a standalone mode (e.g., as a gateway or a sidecar proxy) in which case each distinct l7mp proxy instance needs to be configured separately (using a static config file of via the l7mp proxy REST API), or it can be used in conjunction with the l7mp service mesh operator for Kubernetes, which makes it possible to manage possibly large numbers of l7mp proxy instances enjoying the convenience of a high-level Kubernetes API.\n\nFeatures\n\n\n\nContributing\n\nJoin the l7mp slack or send pull requests to the l7mp github repo."
					}
					
				
		
				
					,
					
					"docs-l7mp-proxy": {
						"id": "docs-l7mp-proxy",
						"title": "The l7mp proxy",
						"categories": "",
						"url": " /docs/l7mp_proxy",
						"content": "Concepts\n\n\n\nReference\n\nSee the l7mp OpenAPI specs for an overview.\n\nTasks"
					}
					
				
		
				
					,
					
					"docs-l7mp-service-mesh": {
						"id": "docs-l7mp-service-mesh",
						"title": "The l7mp service mesh",
						"categories": "",
						"url": " /docs/l7mp_service_mesh",
						"content": "Concepts\n\n\n\nReference\n\n\n\nTasks"
					}
					
				
		
		
				
					,
					
					"2020-test-1": {
						"id": "2020-test-1",
						"title": "Test 1",
						"categories": "test",
						"url": " /2020/test-1/",
						"content": "Test 1\n\nSomething about testing"
					}
					
				
		
				
					,
					
					"2020-welcome-to-jekyll": {
						"id": "2020-welcome-to-jekyll",
						"title": "Welcome to Jekyll!",
						"categories": "jekyll, update",
						"url": " /2020/welcome-to-jekyll/",
						"content": "Welcome to Jekyll\n\nYou’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.\n\nJekyll requires blog post files to be named according to the following format:\n\nYEAR-MONTH-DAY-title.MARKUP\n\nWhere YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and MARKUP is the file extension representing the format used in the file. After that, include the necessary front matter. Take a look at the source for this post to get an idea about how it works.\n\nJekyll also offers powerful support for code snippets:\n\ndef print_hi(name)\n  puts \"Hi, #{name}\"\nend\nprint_hi('Tom')\n#=&gt; prints 'Hi, Tom' to STDOUT.\n\n\nCheck out the Jekyll docs for more info on how to get the most out of Jekyll. File all bugs/feature requests at Jekyll’s GitHub repo. If you have questions, you can ask them on Jekyll Talk."
					}
					
				
		
				
					,
					
					"2019-santa": {
						"id": "2019-santa",
						"title": "Santa",
						"categories": "jekyll, santa",
						"url": " /2019/santa/",
						"content": "Santa\n\nSomething about Santa."
					}
					
				
		
		
				
					,
					
					"404-html": {
						"id": "404-html",
						"title": "",
						"categories": "",
						"url": " /404.html",
						"content": "404\n\n  Page not found :(\n  The requested page could not be found."
					}
					
				
		
				
					,
					
					"about": {
						"id": "about",
						"title": "About",
						"categories": "",
						"url": " /about/",
						"content": "This is the base Jekyll theme. You can find out more info about customizing your Jekyll theme, as well as basic Jekyll usage documentation at jekyllrb.com\n\nYou can find the source code for Minima at GitHub:\njekyll /\nminima\n\nYou can find the source code for Jekyll at GitHub:\njekyll /\njekyll"
					}
					
				
		
				
					,
					
					"about": {
						"id": "about",
						"title": "About",
						"categories": "",
						"url": " /about/",
						"content": "About\n\nL7mp is a Layer-7, multiprotocol service proxy and a service mesh framework. The emphasis is on multiprotocol support, which lets l7mp to handle lots of transport- and application-layer network protocols natively not just the usual TCP/HTTP, and transparently convert between different protocol encapsulations. The intention is for l7mp to serve as an incubator project to prototype the main service mesh features that are indispensable to support network-intensive legacy/non-HTTP applications seamlessly in Kubernetes.\n\nThe distribution contains an l7mp proxy component, a programmable proxy that can stitch an arbitrary number of application-level traffic streams together into an end-to-end stream in a protocol-agnostic manner (e.g., you can pipe a UNIX domain socket to a WebSocket stream and vice versa), and a service mesh component, in the form of a Kubernetes operator, which can manage a legion of l7mp gateway and sidecar proxy instances seamlessly to enforce a rich set of high-level traffic management and observability policies throughout an entire cluster."
					}
					
				
		
				
					,
					
					"docs": {
						"id": "docs",
						"title": "Documentation",
						"categories": "",
						"url": " /docs/",
						"content": "Documentation\n\n\n\nWelcome to the L7mp Documentation pages!\n\n\n    \n    \n    \n    \n    Overview\n    Overview of the basic concepts in l7mp\n    \n    \n    Getting started\n    Getting started with l7mp\n    \n    \n    The l7mp proxy\n    The l7mp proxy: Basic concepts\n    \n    \n    The l7mp service mesh\n    The l7mp service mesh: Basic concepts"
					}
					
				
		
				
					,
					
					"faq": {
						"id": "faq",
						"title": "FAQ",
						"categories": "",
						"url": " /faq/",
						"content": "Placeholder for FAQ"
					}
					
				
		
				
					,
					
					"": {
						"id": "",
						"title": "",
						"categories": "",
						"url": " /",
						"content": ""
					}
					
				
		
				
					,
					
					"news": {
						"id": "news",
						"title": "News",
						"categories": "",
						"url": " /news/",
						"content": "News\n\nSubscribe with RSS to keep up with the latest news.\nFor site changes, see the changelog kept with the code base.\n\n\n\n\n   Test 1\n   September 20, 2020\n   \n   Test 1\n\nSomething about testing\n\n   \n   \n\n\n\n   Welcome to Jekyll!\n   July 14, 2020\n   \n   Welcome to Jekyll\n\nYou’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.\n\nJekyll requires blog post files to be named according to the following format:\n\nYEAR-MONTH-DAY-title.MARKUP\n\nWhere YEAR is a four-digit number, MONTH and DAY are both two-digit numbers, and MARKUP is the file extension representing the format used in the file. After that, include the necessary front matter. Take a look at the source for this post to get an idea about how it works.\n\nJekyll also offers powerful support for code snippets:\n\ndef print_hi(name)\n  puts \"Hi, #{name}\"\nend\nprint_hi('Tom')\n#=&gt; prints 'Hi, Tom' to STDOUT.\n\n\nCheck out the Jekyll docs for more info on how to get the most out of Jekyll. File all bugs/feature requests at Jekyll’s GitHub repo. If you have questions, you can ask them on Jekyll Talk.\n\n\n   \n   \n\n\n\n   Santa\n   December 06, 2019\n   \n   Santa\n\nSomething about Santa.\n\n   \n   \n\n\nWant to see more? See the News Archive."
					}
					
				
		
				
					,
					
					"openapi": {
						"id": "openapi",
						"title": "OpenAPI",
						"categories": "",
						"url": " /openapi/",
						"content": ""
					}
					
				
		
				
		
				
					,
					
					"assets-css-style-css": {
						"id": "assets-css-style-css",
						"title": "",
						"categories": "",
						"url": " /assets/css/style.css",
						"content": "@import \"jekyll-theme-primer\";"
					}
					
				
		
				
					,
					
					"assets-images": {
						"id": "assets-images",
						"title": "List of images that come from pixabay.com",
						"categories": "",
						"url": " /assets/images/",
						"content": "## List of images that come from pixabay.com \n\nLicense: \n\n    - assets/images/control-bg.jpg \n    - assets/images/service-mesh.jpg\n    - assets/images/udp.jpg\n    - assets/images/under-construction.png"
					}
					
				
		
	};
</script>
<script src="../assets/lunr.min.js"></script>
<script src="../assets/search.js"></script>
                            
                        </article>
                    </div>
                </main>
            </div>
        </div>
        <!-- <footer class="bg-dark site-footer">
    <div class="footer-container justify-content-center">
      <small>Copyright &copy; <a href="">l7mp.io</a></small>
    </div>
  </footer> -->
  <div id="footer" class="bg-dark text-white-50 container-fluid">
    <div class="row">
      <div class="col-md-4">
        <small>Authors:</small> </br>
        
          <small>Gábor Rétvári: rg0now@gmail.com</small></br> 
        
          <small>Felicián Németh: nemethf@github</small></br> 
        
          <small>Richárd Váradi: ricsi19981007@gmail.com</small></br> 
        
          <small>Kornél Dávid: konel1020@gmail.com</small></br> 
        
      </div>
      <div class="col-md-4">
        <small>Copyright &copy; <a href="">l7mp.io</a></small>
      </div>
      <div class="col-md-4">
        <small>Contact us</small> <br>
        <a href="https://github.com/l7mp/l7mp" class="fa fa-3x fa-github"></a>
        <a href="#" class="fa fa-3x fa-twitter"></a>
      </div>
    </div>
  </div>
     </div>
    

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="../assets/js/vendor/jquery.slim.min.js"><\/script>')</script>
    
        <script src="../../assets/dist/js/bootstrap.bundle.js"></script>
        <script src="../../assets/main.js"></script>
    
</body>

</html>